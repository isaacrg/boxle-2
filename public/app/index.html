<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>App V1</title>
  <link rel="stylesheet" href="/css/corpus.css">
</head>
  <body class="row fullscreen">
    <nav class="sidebar bg-black p2 h100 fixed scroll-vertical no-scrollbar">
      <h1 class="m0 color-white"><a class="no-underline" href="#/home">Boxle</a><span class="alpha-badge fs-small italic color-accent">Alpha</span></h1>
      <p class="color-midgrey">An internet experiment.</p>
      <ul class="list-style-none lh9 bt1 border-darkgrey mt2 pt2">
        <li><a href="#/home">Home</a></li>
        <li><a href="#/my">All files</a></li>
        <li><a href="#/me">Profile</a></li>
      </ul>
    </nav>
    <main id="main" class="column scroll-vertical">
      
    </main>
    <script type="text/html" id="template-home">
      <section class="section-padding">
        This is an experimental website, providing a virtual document service, among other things.
      </section>
    </script>
    <script type="text/html" id="template-files">
      <section class="section-padding grid">
        <div class="row">
          <div id="menu-document-bar" class="w100 p1 bg-white" style="display:block">
            <a class="color-midgrey btn-tiny" href="javascript:toggleNewDoc()">Create document</a>
          </div>
          <div id="new-document-bar" class="w100 p1 bg-white" style="display:none">
            <h6 class="inline color-grey">Create a new document</h6>
            Title: 
            <input id="newdoctitle" class="bg-silver" name="title" type="text">
            Type:
            <select id="newdoctype" title="Type" class="bg-silver">
              <option value="text/rich-html-note">Rich text note</option>
              <option value="text/plain">Plain text note</option>
            </select>
            <a class="color-midgrey btn-tiny" href="javascript:newDoc()">Create document</a>
            <a class="color-midgrey btn-tiny" href="javascript:toggleNewDoc()">Cancel</a>
          </div>
        {{ for(var prop in it.data) { }}
          <div class="w100 p1 bg-white bt3" > <!--onclick="toggle_visibility('more-{{=it.data[prop]._id}}')"-->
            <span id="myfiles-title-{{=it.data[prop]._id}}" class="title" onclick="editDoc('{{=it.data[prop]._id}}','{{=it.data[prop].type}}')" >{{=it.data[prop].title}}</span>
            <a class="color-midgrey btn-tiny" style="float: right" href="javascript:toggle_visibility('more-{{=it.data[prop]._id}}')">Toggle Options</a>
           </div>
           <div class="w100 p1 bg-white" style="display:none" id="more-{{=it.data[prop]._id}}">
              <a class="color-midgrey btn-tiny" href="javascript:editDoc('{{=it.data[prop]._id}}','{{=it.data[prop].type}}')">&#9998;</a>
              <a class="color-midgrey btn-tiny" href="javascript:deleteDoc('{{=it.data[prop]._id}}')">&#9587;</a>
              <i>Public document?</i>
              <input title="Toggle whether this document is publicly accessible" type="checkbox" id="chk-isPublic-{{=it.data[prop]._id}}" onclick="toggleIsPublic('{{=it.data[prop]._id}}');" {{? it.data[prop].isPublic }}checked="{{=it.data[prop].isPublic}}"{{?}}/>
          </div>
        {{ } }}
        </div>
      </section>
    </script>
    <script type="text/html" id="template-profile">
      <section class="section-padding">
        The profile section has not been implemented yet, though if you wish for data to be removed or modified, then email:
        <pre>
          isaac.reid.guest@gmail.com
        </pre>
      </section>
    </script>
    <script src="js/routie.min.js"></script>
    <script src="js/zepto.min.js"></script>
    <script src="js/doT.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
